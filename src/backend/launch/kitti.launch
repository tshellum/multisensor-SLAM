<?xml version="1.0" encoding="UTF-8"?>

<launch>
    <arg name = "stereo_pose_relative_topic"  default = "/frontend/pose_relative"/>
    <arg name = "stereo_cloud_topic" default = "/frontend/point_cloud"/>
    <arg name = "gnss_topic" default = "/tf"/>
    <arg name = "imu_topic" default = "/kitti/oxts/imu"/>
    <arg name = "pulled_image_flag_topic" default = "/frontend/pulled_image_flag"/>

    <node 
        name   = "backend"
        pkg    = "backend"
        type   = "backend_node"
        args   = "$(arg stereo_pose_relative_topic) 
                  $(arg stereo_cloud_topic) 
                  $(arg gnss_topic) 
                  $(arg imu_topic) 
                  $(arg pulled_image_flag_topic)"
        output = "screen"
    >
    
    <remap from = "stereo_pose_relative_topic"  to = "$(arg stereo_pose_relative_topic)"/>
    <remap from = "stereo_cloud_topic"  to = "$(arg stereo_cloud_topic)"/>
    <remap from = "gnss_topic"  to = "$(arg gnss_topic)"/>
    <remap from = "imu_topic" to = "$(arg imu_topic)"/>
    <remap from = "pulled_image_flag_topic" to = "$(arg pulled_image_flag_topic)"/>
    </node>

</launch>